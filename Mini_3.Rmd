---
title: "Mini-Project 3"
author: "Yifan Ma & Meghan Suslovic"
date: "March 7, 2018"
output: 
  html_document:
    code_folding: hide

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(warning=FALSE, message=FALSE, echo=TRUE)
```

```{r}
library(tidyverse)
library(leaflet)
library(dplyr)
library(etl)
library(macleish)
library(sf)
```

Biking from Smith College to MacLeish is of interest to a subset of field station visitors. Considering that some bikers appreciate climbing hills and others wish to avoid hills, propose two alternative bike routes to the field station using the available data from MassGIS. Detail the lengths of the routes and the elevation change along the routes, and support your choices with data.

Supporting data includes:


School locations shapefile



Road shapefiles


MacLeish Field Station Property Boundary shapefile

```{r}
M_boundary <- macleish_layers[["boundary"]]

b <- leaflet() %>%
  addTiles(group = "OpenStreetMap") %>%
  addProviderTiles("Esri.WorldTopoMap", group = "Topography") %>%
  addProviderTiles("Esri.WorldImagery", group = "Satellite") %>%
  addProviderTiles("Stamen.TonerLite", group = "Toner Lite") %>%
  addPolygons(data = macleish_layers[["boundary"]], weight = 1, fillOpacity = 0.01, group = "Boundaries")
```

bike trails shapefiles

```{r}
url <- "http://wsgw.mass.gov/data/gispub/shape/state/biketrails_arc.zip"
local_file <- basename(url)
download.file(url, destfile = local_file)
unzip(local_file, exdir = "biketrails")

dsn <- path.expand("biketrails")
bike_trails <- read_sf(dsn)
bike_trails
```

```{r}
bike_trails_4326 <- bike_trails %>%
  st_transform(4326)
bike_trails_4326
```

```{r}
leaflet() %>%
  addTiles(group = "OpenStreetMap") %>%
  addProviderTiles("Esri.WorldTopoMap", group = "Topography") %>%
  addProviderTiles("Esri.WorldImagery", group = "Satellite") %>%
  addProviderTiles("Stamen.TonerLite", group = "Toner Lite") %>%
  addPolygons(data = macleish_layers[["boundary"]], weight = 1, fillOpacity = 0.01, group = "Boundaries") %>%
  addPolylines(data = bike_trails_4326)
```

30’ contour elevation data

```{r}
url <- "http://download.massgis.digital.mass.gov/elevation/elevation_hillshade_5k.zip"
local_file <- basename(url)
download.file(url, destfile = local_file)
unzip(local_file, exdir = "dem")
```

<<<<<<< HEAD
```{r}
dsn <- path.expand("dem")
DEM <- read_sf(dsn)
DEM
```
=======

30’ contour elevation data

```{r}
url <- "http://download.massgis.digital.mass.gov/shapefiles/state/contours250k.zip"
local_file <- basename(url)
download.file(url, destfile = local_file)
unzip(local_file, exdir = "elevation")

dsn <- path.expand("elevation")
elevation <- read_sf(dsn)
elevation
```



>>>>>>> 9f1921dc4c9f4168213ffa215f6e674a3f2badcb
>>>>>>> 9fefddc70a2ba71165fede95a6243a9527ca4723
